<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <title th:text="${title}" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        .tasks-section {
            max-width: 600px; /* Максимальная ширина секции задач */
            margin: 20px ; /* Центрирование секции по горизонтали с отступом сверху */
            /*margin-left: 1px;*/
        }
        .task-item {
            margin-bottom: 15px; /* Отступ между элементами списка */
        }
    </style>
</head>
<body>
<header th:insert="~{blocks/header.html :: header}"></header>

<main>

    <!-- Проверка, если пользователь залогинен -->
    <div sec:authorize="isAuthenticated()" class="tasks-section">
        <h2>Your Tasks</h2>

        <div th:if="${tasks == null} or ${tasks.size() == 0}">
            <p>You have no tasks yet. Would you like to <a href="/create-task">create your first task</a>?</p>
        </div>

        <div th:if="${tasks != null and tasks.size() > 0}">
            <ul>
                <li th:each="task : ${tasks}" class="task-item">
                    <span th:text="${task.name}"></span>
                </li>
            </ul>
            <a href="/create-task" class="btn btn-primary mt-3">Create New Task</a>
        </div>
    </div>

    <!-- Проверка, если пользователь не залогинен -->
    <div sec:authorize="isAnonymous()" class="hero-section" style="background-image: url('/main-logo.jpg'); background-size: cover; background-position: center; height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center;">
        <img src="/main-logo.jpg" alt="Your Experience">
        <h1>Your Best Experience</h1>
        <a href="/login" class="btn btn-primary mt-3">Log in</a>
    </div>

</main>
</body>
</html>
